import streamlit as st
import time

# Define response dictionary
response_dict = {
    "ä¼š": """
å¦‚æœçˆ±å¯ä»¥é‡åŒ–ï¼Œæˆ‘è®¤ä¸ºä¼šå¯¹äººæ›´å¥½ã€‚é¦–å…ˆï¼Œé‡åŒ–çˆ±æƒ…èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬æ›´æ¸…æ™°åœ°äº†è§£è‡ªå·±ä¸ä»–äººä¹‹é—´çš„æƒ…æ„Ÿè¿æ¥ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå¯ä»¥é€šè¿‡æŸç§æ–¹å¼æµ‹é‡çˆ±æƒ…çš„å¼ºåº¦ã€äººé™…å…³ç³»ä¸­çš„ä¿¡ä»»ä¸äº²å¯†åº¦ç­‰å…ƒç´ ï¼Œæˆ‘ä»¬å¯èƒ½èƒ½æ›´ç²¾å‡†åœ°ç†è§£å…³ç³»çš„çŠ¶æ€ï¼ŒåŠæ—¶å‘ç°é—®é¢˜ï¼Œå¹¶é‡‡å–æªæ–½æ”¹å–„ã€‚æ¯”å¦‚ï¼Œå‡å¦‚æˆ‘ä»¬çŸ¥é“è‡ªå·±çš„çˆ±æƒ…å…³ç³»ä¸­æŸäº›æ–¹é¢çš„åˆ†æ•°è¾ƒä½ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæ›´æ„¿æ„æŠ•å…¥ç²¾åŠ›å»ä¿®å¤ã€‚
æ­¤å¤–ï¼Œé‡åŒ–çˆ±æƒ…å¯ä»¥ä¸ºæˆ‘ä»¬æä¾›ä¸€ä¸ªè¡¡é‡æ ‡å‡†ï¼Œè®©æˆ‘ä»¬æœ‰æ„è¯†åœ°å…³æ³¨å¹¶æ”¹å–„è‡ªå·±ä¸ä»–äººä¹‹é—´çš„æƒ…æ„Ÿäº’åŠ¨ã€‚è¿™ä¸ä»…èƒ½å¸®åŠ©æˆ‘ä»¬åœ¨äººé™…å…³ç³»ä¸­å–å¾—æ›´å¥½çš„å¹³è¡¡ï¼Œè¿˜å¯èƒ½è®©æˆ‘ä»¬å­¦ä¼šå¦‚ä½•å¤„ç†æ„Ÿæƒ…ä¸­çš„å¤æ‚æ€§ï¼Œæ¯”å¦‚å¦‚ä½•åº”å¯¹çŸ›ç›¾ã€å¦‚ä½•è¡¨è¾¾çˆ±æ„ã€å¦‚ä½•å¹³è¡¡ä¸ªäººä¸ä»–äººä¹‹é—´çš„éœ€æ±‚ã€‚
""",
    "ä¸ä¼š": """
å¦‚æœçˆ±å¯ä»¥é‡åŒ–ï¼Œæˆ‘è®¤ä¸ºä¸ä¼šå¯¹äººæ›´å¥½ã€‚çˆ±ä½œä¸ºä¸€ç§æƒ…æ„Ÿå’Œå…³ç³»ï¼Œæ˜¯å¤æ‚ä¸”å¤šç»´çš„ï¼Œå®ƒä¸ä»…ä»…æ˜¯ä¸€ä¸ªå¯ä»¥è¢«æ•°å­—åŒ–çš„â€œé‡â€ã€‚å¦‚æœæˆ‘ä»¬è¯•å›¾é‡åŒ–çˆ±ï¼Œå°±ä¼šå¿½è§†å…¶ä¸­çš„ç»†è…»ã€æ— å½¢å’Œå˜åŒ–å¤šç«¯çš„å±‚é¢ã€‚é‡åŒ–å¯èƒ½ä¼šè®©äººè¿‡äºä¾èµ–æ•°æ®ã€æ ‡å‡†æˆ–å¤–éƒ¨è¯„ä»·ï¼Œè€Œå¿½ç•¥äº†æƒ…æ„Ÿæœ¬èº«çš„æµåŠ¨æ€§å’Œç‹¬ç‰¹æ€§ã€‚æ¯”å¦‚ï¼Œä¸¤ä¸ªäººä¹‹é—´çš„çˆ±ï¼Œä¸åº”è¯¥ä»…ä»…é€šè¿‡æŸä¸ªâ€œæ•°å€¼â€æ¥è¯„ä»·ï¼Œè€Œåº”å½“æ ¹æ®ä»–ä»¬çš„äº’åŠ¨ã€ç†è§£ã€åŒ…å®¹å’Œå…±åŒç»å†æ¥æ„ŸçŸ¥ã€‚
å¦‚æœçˆ±å¯ä»¥é‡åŒ–ï¼Œäººä»¬å¯èƒ½ä¼šå¼€å§‹å°†å…¶è§†ä¸ºä¸€ç§äº¤æ˜“ï¼Œè€Œéä¸€ç§æ— æ¡ä»¶çš„ä»˜å‡ºå’Œåˆ†äº«ã€‚è¿™ç§è§‚ç‚¹å¯èƒ½ä¼šè®©äººä»¬çš„æƒ…æ„Ÿå…³ç³»å˜å¾—åŠŸåˆ©ï¼Œç¼ºä¹æ·±åº¦å’ŒçœŸæ­£çš„æƒ…æ„ŸæŠ•å…¥ã€‚çˆ±æœ¬åº”æ˜¯ä¸€ç§è‡ªç”±çš„ã€æ— æ¡ä»¶çš„æƒ…æ„Ÿï¼Œè€Œä¸€æ—¦å®ƒè¢«é‡åŒ–ï¼Œäººä»¬å¯èƒ½ä¼šå¤±å»å¯¹çˆ±çš„çº¯ç²¹ç†è§£ï¼Œç”šè‡³å¯¼è‡´æƒ…æ„Ÿçš„ç–è¿œå’Œå†·æ¼ ã€‚
æ­¤å¤–ï¼Œé‡åŒ–çˆ±ä¹Ÿå¯èƒ½å¸¦æ¥ä¸å¿…è¦çš„å‹åŠ›ï¼Œè®©äººæ€»æ˜¯å¤„äºâ€œæ¯”å¯¹â€å’Œâ€œæ¯”è¾ƒâ€çš„çŠ¶æ€ï¼Œå¯èƒ½å¯¼è‡´ç„¦è™‘å’Œä¸å®‰å…¨æ„Ÿã€‚äººä»¬å¯èƒ½ä¼šä¸ºäº†è¾¾åˆ°æŸç§â€œç†æƒ³â€çš„çˆ±æƒ…æ ‡å‡†ï¼Œè€Œä¸è‡ªç„¶åœ°è°ƒæ•´è‡ªå·±çš„è¡Œä¸ºï¼Œå¤±å»çœŸå®è‡ªæˆ‘çš„è¡¨è¾¾ã€‚
"""
}

# Set page title and icon
st.set_page_config(page_title="ChatGPT æ¨¡æ‹Ÿ", page_icon="ğŸ¤–", layout="centered")

# Initialize session state
if "popup_closed" not in st.session_state:
    st.session_state.popup_closed = False
if "user_choice" not in st.session_state:
    st.session_state.user_choice = None

# Simulate popup
if not st.session_state.popup_closed:
    st.write("### å¦‚æœçˆ±å¯ä»¥é‡åŒ–ï¼Œä½ æ›´å€¾å‘è®¤ä¸ºä¼š/ä¸ä¼šå¯¹äººæ›´å¥½ï¼Ÿ")
    col1, col2 = st.columns(2)
    with col1:
        if st.button("ä¼š"):
            st.session_state.popup_closed = True
            st.session_state.user_choice = "ä¼š"
    with col2:
        if st.button("ä¸ä¼š"):
            st.session_state.popup_closed = True
            st.session_state.user_choice = "ä¸ä¼š"
else:
    # Display main content
    st.title("ğŸ¤– ChatGPT å¯¹è¯æ¨¡æ‹Ÿ")

    # # Display response based on user choice
    # if st.session_state.user_choice:
    #     response_text = response_dict[st.session_state.user_choice]
    #     st.write(f"æ‚¨é€‰æ‹©çš„ç­”æ¡ˆæ˜¯ï¼š{response_text}")

    # Sidebar navigation
    with st.sidebar:
        st.header("å¯¼èˆª")
        st.markdown("### ä»Šå¤©")
        st.button("é—®é¢˜1")
        st.button("é—®é¢˜2")

        st.markdown("### æ˜¨å¤©")
        st.button("é—®é¢˜3")
        st.button("é—®é¢˜4")
        st.button("é—®é¢˜5")
        st.button("é—®é¢˜6")
        st.button("é—®é¢˜7")
        st.button("é—®é¢˜8")
        st.button("é—®é¢˜9")

        st.markdown("### å‰ 7 å¤©")
        st.button("æ·»åŠ å›¢é˜Ÿæˆå‘˜")

    # User input section
    user_input = st.text_input("è¯·ç‚¹å‡»æŒ‰é’®å‘é€æ‚¨çš„é—®é¢˜ï¼š", value="å¦‚æœçˆ±å¯ä»¥é‡åŒ–ï¼Œä½ æ›´å€¾å‘è®¤ä¸ºä¼š/ä¸ä¼šå¯¹äººæ›´å¥½ï¼Ÿ")

    # Send button to process user input
    if st.button("å‘é€"):
        if user_input:
            if st.session_state.user_choice:
                response_text = response_dict[st.session_state.user_choice]
            # response_text = """
            # å¦‚æœçˆ±å¯ä»¥é‡åŒ–ï¼Œæˆ‘è®¤ä¸ºä¼šå¯¹äººæ›´å¥½ã€‚é¦–å…ˆï¼Œé‡åŒ–çˆ±æƒ…èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬æ›´æ¸…æ™°åœ°äº†è§£è‡ªå·±ä¸ä»–äººä¹‹é—´çš„æƒ…æ„Ÿè¿æ¥ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå¯ä»¥é€šè¿‡æŸç§æ–¹å¼æµ‹é‡çˆ±æƒ…çš„å¼ºåº¦ã€äººé™…å…³ç³»ä¸­çš„ä¿¡ä»»ä¸äº²å¯†åº¦ç­‰å…ƒç´ ï¼Œæˆ‘ä»¬å¯èƒ½èƒ½æ›´ç²¾å‡†åœ°ç†è§£å…³ç³»çš„çŠ¶æ€ï¼ŒåŠæ—¶å‘ç°é—®é¢˜ï¼Œå¹¶é‡‡å–æªæ–½æ”¹å–„ã€‚æ¯”å¦‚ï¼Œå‡å¦‚æˆ‘ä»¬çŸ¥é“è‡ªå·±çš„çˆ±æƒ…å…³ç³»ä¸­æŸäº›æ–¹é¢çš„åˆ†æ•°è¾ƒä½ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæ›´æ„¿æ„æŠ•å…¥ç²¾åŠ›å»ä¿®å¤ã€‚
            # æ­¤å¤–ï¼Œé‡åŒ–çˆ±æƒ…å¯ä»¥ä¸ºæˆ‘ä»¬æä¾›ä¸€ä¸ªè¡¡é‡æ ‡å‡†ï¼Œè®©æˆ‘ä»¬æœ‰æ„è¯†åœ°å…³æ³¨å¹¶æ”¹å–„è‡ªå·±ä¸ä»–äººä¹‹é—´çš„æƒ…æ„Ÿäº’åŠ¨ã€‚è¿™ä¸ä»…èƒ½å¸®åŠ©æˆ‘ä»¬åœ¨äººé™…å…³ç³»ä¸­å–å¾—æ›´å¥½çš„å¹³è¡¡ï¼Œè¿˜å¯èƒ½è®©æˆ‘ä»¬å­¦ä¼šå¦‚ä½•å¤„ç†æ„Ÿæƒ…ä¸­çš„å¤æ‚æ€§ï¼Œæ¯”å¦‚å¦‚ä½•åº”å¯¹çŸ›ç›¾ã€å¦‚ä½•è¡¨è¾¾çˆ±æ„ã€å¦‚ä½•å¹³è¡¡ä¸ªäººä¸ä»–äººä¹‹é—´çš„éœ€æ±‚ã€‚
            # """
            st.subheader("ChatGPT çš„å›ç­”ï¼š")

            # Use st.empty to create an empty container for displaying text character by character
            response_container = st.empty()

            # Display the response text character by character
            displayed_text = ""
            for char in response_text:
                displayed_text += char
                response_container.markdown(
                    f"<div style='word-wrap: break-word; width: 100%;'>{displayed_text}</div>", 
                    unsafe_allow_html=True
                )
                time.sleep(0.05)  # Adjust character display speed
        else:
            st.warning("è¯·è¾“å…¥æ‚¨çš„é—®é¢˜ï¼")

# Footer
st.markdown("---")
st.caption("ChatGPT æ¨¡æ‹Ÿç•Œé¢ Â©lyy 2023â€“2024")
